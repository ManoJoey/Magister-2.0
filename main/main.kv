#:kivy 2.2.1
#: import NoTransition kivy.uix.screenmanager.NoTransition

WindowManager:
    BootScreen:
    Dashboard:
    Navbar:
    Cijfers:
    Vakken:
    Schoolwerk:
    Planning:
    NieuwCijfer:
    NieuwHuiswerk:
    NieuwProefwerk:
    NieuwVak:
    CijferBerekenen:

<ScreenManager>:
    transition: NoTransition()

<BootScreen>:

<Rounded@Button>
    canvas.before:
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: [58]

<PopupVak>:
    name: "popup vak"
    size_hint: (None, None)
    size_hint: (0.9, 0.9)
    BoxLayout:
        orientation: "vertical"
        pos_hint: {"top": 1}
        TextInput:
            #naam vak
            id: naam_vakAP
            multiline: False
            size_hint: 1, .2
            hint_text: "Vak"
        BoxLayout:
            id: BoxDagenAP
            orientation: "horizontal"
            size_hint: 1, .4
            Button:
                id: maandag
                text: "Maandag"
                background_color: (1,0,0,1)
                on_release: root.Savedag("maandag")
            Button:
                id: dinsdag
                text: "Dinsdag"
                background_color: (1,0,0,1)
                on_release: root.Savedag("dinsdag")
            Button:
                id: woensdag
                text: "Woensdag"
                background_color: (1,0,0,1)
                on_release: root.Savedag("woensdag")
            Button:
                id: donderdag
                text: "Donderdag"
                background_color: (1,0,0,1)
                on_release: root.Savedag("donderdag")
        BoxLayout:
            orientation: "horizontal"
            size_hint: 1, .4
            Button:
                id: vrijdag
                text: "Vrijdag"
                background_color: (1,0,0,1)
                on_release: root.Savedag("vrijdag")
            Button:
                id: zaterdag
                text: "Zaterdag"
                background_color: (1,0,0,1)
                on_release: root.Savedag("zaterdag")
            Button:
                id: zondag
                text: "Zondag"
                background_color: (1,0,0,1)
                on_release: root.Savedag("zondag")
        BoxLayout:
            id: BoxMessageAP
            orientation: "vertical"
            size_hint: 1, .2
            Button:
                text: "Opslaan"
                on_release: root.OW_klas()
        GridLayout:
            cols: 2
            size_hint: 1, .1
            Button:
                text: "Verwijderen"
                on_release: root.verwijderKlas()
            Button:
                text: "Terug"
                on_release: root.dismiss()

<PopupSW>:
    name: "popup schoolwerk"
    size_hint: (None, None)
    size_hint: (0.9, 0.9)
    BoxLayout:
        orientation: "vertical"
        pos_hint: {"top": 1}
        TextInput:
            #naam huiswerk
            id: naam_hwP
            multiline: False
            size_hint: 1, .2
            hint_text: "Huiswerk"
        Button:
            id: datum_hwP
            size_hint: 1, .2
            on_press: root.kies_datum_HwP()
        Spinner:
            id: kiesvakHwP
            size_hint: 1, .2
            on_press: root.spinnerHwP_clicked()
        TextInput:
            #extra info
            id: info_hwP
            multiline: False
            size_hint: 1, .2
            hint_text: "Extra informatie"
        Button:
            text: "Opslaan"
            size_hint: 1, .1
            on_release: root.OW_hw()
        GridLayout:
            cols: 2
            size_hint: 1, .1
            Button:
                text: "Verwijderen"
                on_release: root.verwijderHw()
            Button:
                text: "Terug"
                on_release: root.dismiss()

<PopupCF>:
    name: "popup cijfer"
    size_hint: (None, None)
    size_hint: (0.9, 0.9)
    BoxLayout:
        orientation: "vertical"
        pos_hint: {"top": 1}
        TextInput:
            #cijfer
            id: welkCF_p
            multiline: False
            size_hint: 1, .2
            hint_text: "Cijfer"
        TextInput:
            #weging
            id: wegingCF_p
            multiline: False
            size_hint: 1, .2
            hint_text: "Weging"
        TextInput:
            #omschrijving - optioneel
            id: infoCF_p
            multiline: False
            size_hint: 1, .2
            hint_text: "Omschrijving - optioneel"
        Spinner:
            id: kiesvakCF_p
            size_hint: 1, .2
            text: "Selecteer een vak"
            on_press: root.spinnerCFp_clicked()
        Button:
            text: "Opslaan"
            size_hint: 1, .1
            on_release: root.OW_cf()
        GridLayout:
            cols: 2
            size_hint: 1, .1
            Button:
                text: "Verwijderen"
                on_release: root.verwijdercf()
            Button:
                text: "Terug"
                on_release: root.dismiss()


<Navbar>:
    name: "Navbar"
    GridLayout:
        size_hint: 1, .1
        cols : 5
        Button:
            on_release: app.root.current = "dashboard"
            background_normal: ""
            background_color: (1, 0.102, 0.102)
            Image:
                source: "Images/dashboard.png"
                center_x: self.parent.center_x
                center_y: self.parent.center_y / 0.8
                allow_stretch: True
                keep_ratio: True
                size: (25, 25)
            Label:
                text: "Dashboard"
                color: (0,0,0,1)
                font_size: 12
                center_x: self.parent.center_x
                center_y: self.parent.center_y / 2.1

        Button:
            on_release: app.root.current = "planning"
            background_normal: ""
            background_color: (1, 0.102, 0.102)
            Image:
                source: "Images/planning.png"
                center_x: self.parent.center_x
                center_y: self.parent.center_y / 0.8
                allow_stretch: True
                keep_ratio: True
                size: (25, 25)
            Label:
                text: "Planning"
                color: (0,0,0,1)
                font_size: 12
                center_x: self.parent.center_x
                center_y: self.parent.center_y / 2.1

        Button:
            on_release: app.root.current = "schoolwerk"
            background_normal: ""
            background_color: (1, 0.102, 0.102)
            Image:
                source: "Images/schoolwerk.png"
                center_x: self.parent.center_x
                center_y: self.parent.center_y / 0.8
                allow_stretch: True
                keep_ratio: True
                size: (25, 25)
            Label:
                text: "Schoolwerk"
                color: (0,0,0,1)
                font_size: 12
                center_x: self.parent.center_x
                center_y: self.parent.center_y / 2.1

        Button:
            on_release: app.root.current = "cijfers"
            background_normal: ""
            background_color: (1, 0.102, 0.102)
            Image:
                source: "Images/grade.png"
                center_x: self.parent.center_x
                center_y: self.parent.center_y / 0.8
                allow_stretch: True
                keep_ratio: True
                size: (25, 25)
            Label:
                text: "Cijfers"
                color: (0,0,0,1)
                font_size: 12
                center_x: self.parent.center_x
                center_y: self.parent.center_y / 2.1

        Button:
            on_release: app.root.current = "vakken"
            background_normal: ""
            background_color: (1, 0.102, 0.102)
            Image:
                source: "Images/subject.png"
                center_x: self.parent.center_x
                center_y: self.parent.center_y / 0.8
                allow_stretch: True
                keep_ratio: True
                size: (25, 25)
            Label:
                text: "Vakken"
                color: (0,0,0,1)
                font_size: 12
                center_x: self.parent.center_x
                center_y: self.parent.center_y / 2.1



<Dashboard>:
    name: "dashboard"
    BoxLayout:
        size_hint: 1, .9
        pos_hint: {"top": 1}
        orientation: "vertical"
        GridLayout:
            size: root.width, root.height
            cols: 1
            canvas.before:
                Color:
                    rgba: 1, 1, 1, 1
                Rectangle:
                    pos: self.pos
                    size: self.size
            Image:
                source: "Images/LogoTekstZijkant.png"
                center_x: self.parent.center_x
                center_y: self.parent.center_y
                allow_stretch: True
                keep_ratio: True
                size_hint: 0.5, 0.5
            BoxLayout:
                orientation: "vertical"
                spacing: root.height / 30
                padding: root.width / 25
                RoundedButton:
                    text: "Planning"
                    bold: "true"
                    on_release: app.root.current = "planning"
                    color: 0,0,0,1
                    Image:
                        source: "Images/planning.png"
                        center_x: self.parent.center_x - (self.parent.center_x / 1.9)
                        center_y: self.parent.center_y / 1.01
                        allow_stretch: True
                        keep_ratio: True
                        size: (self.parent.center_x / 3.5, self.parent.center_y / 3.5)    
                RoundedButton:
                    text: "Schoolwerk"
                    on_release: app.root.current = "schoolwerk"
                    color: 0,0,0,1
                    bold: "true"
                    Image:
                        source: "Images/schoolwerk.png"
                        center_x: self.parent.center_x - (self.parent.center_x / 1.9)
                        center_y: self.parent.center_y / 1.01
                        allow_stretch: True
                        keep_ratio: True
                        size: (self.parent.center_x / 3.5, self.parent.center_y / 3.5)

                GridLayout:
                    cols: 2
                    spacing: root.height / 20
                    RoundedButton2:
                        color: 0,0,0,1
                        size: (self.parent.center_x / 4, self.parent.center_y / 3.5)
                        bold: "true"
                        text: "Nieuw Huiswerk"
                        on_release: app.root.current = "nieuw huiswerk"
                    RoundedButton2:
                        color: 0,0,0,1
                        size: (self.parent.center_x / 4, self.parent.center_y / 3.5)
                        text: "Cijferoverzicht"
                        bold: "true"
                        on_release: app.root.current = "cijfers"
            GridLayout:
                size_hint: 1, .3
                cols: 3
                background_normal: ""
                id: LayCf
    Navbar:

# hier komt alles te staan dat vandaag af moet, zoals huiswerk voor morgen of proefwerken van binnen een week
<Planning>:
    name: "planning"
    BoxLayout:
        orientation: "vertical"
        size_hint: 1, .9
        pos_hint: {"top": 1}
        Label:
            text: "Planning"
            font_size: self.width/10
            bold: "true"
            size_hint: 1, .2
            canvas.before:
                Color:
                    rgba: 0, 116/255, 255, 0.8
                Rectangle:
                    pos: self.pos
                    size: self.size
        BoxLayout:
            orientation: "horizontal"
            #Dagoverzicht
        BoxLayout:
            orientation: "vertical"
            size_hint: 1, .25
            spacing: root.width / 20
            padding: root.height / 80
            RoundedButton:
                text_size: self.size
                bold: "true"
                valign: "middle"
                halign: "center"
                color: 0,0,0,1
                text: "Huiswerk toevoegen"
                on_release: app.root.current = "nieuw huiswerk"
            RoundedButton:
                text_size: self.size
                valign: "middle"
                halign: "center"
                bold: "true"
                text_size: self.size
                color: 0,0,0,1
                text: "Proefwerk toevoegen"
                on_release: app.root.current = "nieuw proefwerk"
    Navbar:

<Schoolwerk>:
    name: "schoolwerk"
    BoxLayout:
        orientation: "vertical"
        size_hint: 1, .9
        pos_hint: {"top": 1}
        Label:
            text: "Schoolwerk"
            font_size: self.width/10
            bold: "true"
            size_hint: 1, .2
            canvas.before:
                Color:
                    rgba: 0, 116/255, 255, 0.8
                Rectangle:
                    pos: self.pos
                    size: self.size
        ScrollView:
            do_scroll_x: False
            do_scroll_y: True
            GridLayout:
                spacing: root.width/30
                padding: root.height/30
                id: BoxHwPw
                cols: 1
                size_hint_y: None
                height: self.minimum_height
                #Lijst met pw en hw
        BoxLayout:
            orientation: "vertical"
            size_hint: 1, .25
            spacing: root.width / 20
            padding: root.height / 80
            RoundedButton:
                text_size: self.size
                bold: "true"
                valign: "middle"
                halign: "center"
                color: 0,0,0,1
                text: "Huiswerk toevoegen"
                on_release: app.root.current = "nieuw huiswerk"
            RoundedButton:
                text_size: self.size
                valign: "middle"
                halign: "center"
                bold: "true"
                text_size: self.size
                color: 0,0,0,1
                text: "Proefwerk toevoegen"
                on_release: app.root.current = "nieuw proefwerk"
    Navbar:


<NieuwHuiswerk>:
    name: "nieuw huiswerk"
    BoxLayout:
        orientation: "vertical"
        size_hint: 1, .9
        pos_hint: {"top": 1}
        Label:
            text: "Schoolwerk"
            font_size: self.width/10
            bold: "true"
            size_hint: 1, .16
            canvas.before:
                Color:
                    rgba: 0, 116/255, 255, 0.8
                Rectangle:
                    pos: self.pos
                    size: self.size
        BoxLayout:
            orientation: "vertical"
            padding: root.width / 20
            spacing: root.height / 20 
            TextInput:
                #wat is het
                id: welkHW
                multiline: False
                size_hint: 1, .1
                hint_text: "Huiswerk"
            RoundedSpin:
                id: kiesvakHW
                size_hint: 1, .1
                color: 0,0,0,1
                text: "Selecteer een vak"
                on_press: root.spinnerHW_clicked()
                on_text: root.enable_date()
            RoundedButton:
                id: date_picker
                text: "Kies Datum"
                size_hint: 1, .1
                color: 0,0,0,1
                on_release: root.kies_datumHW()
                disabled: True
            TextInput:
                #extra info
                id: infoHW
                multiline: True
                size_hint: 1, .5
                hint_text: "Extra informatie"
            RoundedButton:
                text: "Opslaan"
                color: 0,0,0,1
                on_release: app.submit_huiswerk()
                size_hint: 1, .1
    Navbar:


<NieuwProefwerk>:
    name: "nieuw proefwerk"
    BoxLayout:
        orientation: "vertical"
        size_hint: 1, .9
        pos_hint: {"top": 1}
        Label:
            text: "Nieuw Proefwerk"
            font_size: self.width/10
            bold: "true"
            size_hint: 1, .16
            canvas.before:
                Color:
                    rgba: 0, 116/255, 255, 0.8
                Rectangle:
                    pos: self.pos
                    size: self.size
        BoxLayout:
            orientation: "vertical"
            padding: root.width / 20
            spacing: root.height / 20 
            TextInput:
                #wat is het
                id: welkPW
                multiline: False
                size_hint: 1, .1
                hint_text: "Stof voor het proefwerk"
            RoundedSpin:
                id: kiesvakPW
                size_hint: 1, .1
                text: "Selecteer een vak"
                color: 0,0,0,1
                on_press: root.spinnerPW_clicked()
                on_text: root.enable_date()
            RoundedButton:
                id: date_pickerPW
                text: "Kies Datum"
                color: 0,0,0,1
                size_hint: 1, .1
                on_release: root.kies_datumPW()
                disabled: True
            TextInput:
                #extra info
                id: infoPW
                multiline: True
                size_hint: 1, .5
                hint_text: "Extra informatie"
            RoundedButton:
                text: "Opslaan"
                color: 0,0,0,1
                bold: "true"
                size_hint: 1, .1
                on_release: app.submit_proefwerk()
    Navbar:


<Cijfers>:
    name: "cijfers"
    BoxLayout:
        orientation: "vertical"
        pos_hint: {"top": 1}
        size_hint: 1, .9
        Label:
            text: "Cijfers"
            font_size: self.width/10
            bold: "true"
            size_hint: 1, .05
            canvas.before:
                Color:
                    rgba: 0, 116/255, 255, 0.8
                Rectangle:
                    pos: self.pos
                    size: self.size
        BoxLayout:
            orientation: "horizontal"
            pos_hint: {"top": 1}
            size_hint: 1, .05
            Label:
                text: "Cirkeldiagram"
                canvas.before:
                    Color:
                        rgba: 0, 0, 1, 1
                    Rectangle:
                        pos: self.pos
                        size: self.size
            Label:
                text: "In cijfers uitgedrukt"
                canvas.before:
                    Color:
                        rgba: 0, 0, 1, 1
                    Rectangle:
                        pos: self.pos
                        size: self.size
        BoxLayout:
            orientation: "vertical"
            size_hint: 1, .2
            Label:
                text: "Staafdiagram met gem. per vak"
                canvas.before:
                    Color:
                        rgba: 0, 1, 1, 1
                    Rectangle:
                        pos: self.pos
                        size: self.size
            Label:
                size_hint: 1, .1
                id: tot_gem
                color: 0,0,0,1
                bg_colour: (1,1,1,1)
                canvas.before:
                    Color:
                        rgba: self.bg_colour
                    Rectangle:
                        pos: self.pos
                        size: self.size
            ScrollView:
                do_scroll_x: False
                do_scroll_y: True
                size_hint: 1, .5
                GridLayout:
                    id: BoxCfVak
                    cols: 1
                    size_hint_y: None
                    height: self.minimum_height
        BoxLayout:
            size_hint: 1, .05
            orientation: "horizontal"
            Button:
                text: "Nieuw Cijfer"
                on_release: app.root.current = "nieuw cijfer"
            Button:
                text: "Cijfer Berekenen"
                on_release: app.root.current = "cijfer berekenen"
    Navbar:

<NieuwCijfer>:
    name: "nieuw cijfer"
    BoxLayout:
        orientation: "vertical"
        size_hint: 1, .9
        pos_hint: {"top": 1}
        Label:
            text: "Nieuw cijfer"
            font_size: self.width/10
            bold: "true"
            size_hint: 1, .165
            canvas.before:
                Color:
                    rgba: 0, 116/255, 255, 0.8
                Rectangle:
                    pos: self.pos
                    size: self.size
        BoxLayout:
            orientation: "vertical"
            padding: root.height/20
            spacing: root.height/20
            TextInput:
                #cijfer
                id: welkCF
                multiline: False
                size_hint: 1, .1
                hint_text: "Cijfer"
            TextInput:
                #weging
                id: wegingCF
                multiline: False
                size_hint: 1, .1
                hint_text: "Weging"
            TextInput:
                #omschrijving - optioneel
                id: infoCF
                multiline: False
                size_hint: 1, .3
                hint_text: "Omschrijving - optioneel"
            RoundedSpin:
                color: 0,0,0,1
                id: kiesvakCF
                size_hint: 1, .1
                text: "Selecteer een vak"
                on_press: root.spinnerCF_clicked()
            RoundedButton:
                text: "Opslaan"
                color: 0,0,0,1
                bold: "true"
                size_hint: 1, .2
                on_release: app.submit_cijfer()
    Navbar:


<CijferBerekenen>:
    name: "cijfer berekenen"
    BoxLayout:
        orientation: "vertical"
        size_hint: 1, .9
        pos_hint: {"top": 1}
        Label:
            text: "Nieuw cijfer"
            font_size: self.width/10
            bold: "true"
            size_hint: 1, .165
            canvas.before:
                Color:
                    rgba: 0, 116/255, 255, 0.8
                Rectangle:
                    pos: self.pos
                    size: self.size
        BoxLayout:
            orientation: "vertical"
            Spinner:
                id: kiesvakCFB
                size_hint: 1, .2
                text: "Selecteer een vak"
                on_press: root.spinnerCFB_clicked()
                on_text: root.vak_gekozen()
            ScrollView:
                do_scroll_x: False
                do_scroll_y: True
                size_hint: 1, .5
                GridLayout:
                    id: BoxCF_WE
                    cols: 2
                    size_hint_y: None
                    height: self.minimum_height
            TextInput:
                id: welkCFW
                multiline: False
                size_hint: 1, .2
                hint_text: "Welk cijfer wil je staan?"
            TextInput:
                id: welkWEW
                multiline: False
                size_hint: 1, .2
                hint_text: "(Verwachte) weging volgende proefwerk?"
            Button:
                text: "Bereken"
                size_hint: 1, .2
                on_release: root.bereken_cf()
            Label:
                text: "Je moet halen:"
                color: 0,0,0,1
                size_hint: 1, .1
            Label:
                id: CF_BH
                color: 0,0,0,1
                size_hint: 1, .3
            GridLayout:
                cols: 2
                size_hint: 1, .2
                Button:
                    text: "Terug"
                    on_release: app.root.current = "cijfers"
                Button:
                    text: "Refresh"
                    on_release: root.refresh()
    Navbar:


<NieuwVak>:
    name: "nieuw vak"
    BoxLayout:
        orientation: "vertical"
        size_hint: 1, .9
        pos_hint: {"top": 1}
        Label:
            text: "Nieuw Vak"
            font_size: self.width/10
            bold: "true"
            size_hint: 1, .2
            canvas.before:
                Color:
                    rgba: 0, 116/255, 255, 0.8
                Rectangle:
                    pos: self.pos
                    size: self.size
        
        BoxLayout:
            orientation: "vertical"
            padding: root.width / 20
            spacing: root.height / 20 
            size_hint: 1, .2
            TextInput:
                #naam vak
                id: naam_vak
                multiline: False
                size_hint: 1, .2
                hint_text: "Naam vak"
        BoxLayout:
            id: BoxDagen
            orientation: "horizontal"
            size_hint: 1, .4
            Button:
                id: maandag
                text: "Maandag"
                background_color: (1,0,0,1)
                on_release: root.Savedag("maandag")
            Button:
                id: dinsdag
                text: "Dinsdag"
                background_color: (1,0,0,1)
                on_release: root.Savedag("dinsdag")
            Button:
                id: woensdag
                text: "Woensdag"
                background_color: (1,0,0,1)
                on_release: root.Savedag("woensdag")
            Button:
                id: donderdag
                text: "Donderdag"
                background_color: (1,0,0,1)
                on_release: root.Savedag("donderdag")
        BoxLayout:
            orientation: "horizontal"
            size_hint: 1, .4
            Button:
                id: vrijdag
                text: "Vrijdag"
                background_color: (1,0,0,1)
                on_release: root.Savedag("vrijdag")
            Button:
                id: zaterdag
                text: "Zaterdag"
                background_color: (1,0,0,1)
                on_release: root.Savedag("zaterdag")
            Button:
                id: zondag
                text: "Zondag"
                background_color: (1,0,0,1)
                on_release: root.Savedag("zondag")
        BoxLayout:
            id: BoxMessage
            orientation: "vertical"
            spacing: root.height / 30
            padding: root.width / 25
            size_hint: 1, .2
            RoundedButton:
                color: 0, 0, 0, 1
                bold: "true"
                text: "Opslaan"
                on_release: app.submit_klas()
                on_release: root.SavedVak()
    Navbar:

<Vakken>:
    name: "vakken"
    BoxLayout:
        orientation: "vertical"
        pos_hint: {"top": 1}
        size_hint: 1, .9
        Label:
            text: "Vakken"
            font_size: self.width/10
            bold: "true"
            size_hint: 1, .2
            canvas.before:
                Color:
                    rgba: 0, 116/255, 255, 0.8
                Rectangle:
                    pos: self.pos
                    size: self.size
        ScrollView:
            do_scroll_x: False
            do_scroll_y: True
            GridLayout:
                id: BoxVakken
                cols: 1
                size_hint_y: None
                height: self.minimum_height
        BoxLayout:
            spacing: root.height / 30
            padding: root.width / 25
            orientation: "horizontal"
            size_hint: 1, .2
            RoundedButton: 
                text: "Vak toevoegen"
                color: 0,0,0,1
                bold: "true"
                on_release: app.root.current = "nieuw vak"
    Navbar:

<RoundedButton@Button>
    background_color: (0,0,0,0)
    backround_normal: ''
    canvas.before:
        Color: 
            rgba: (0,204,255,1)
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: [18]

<RoundedButton2@Button>
    background_color: (0,0,0,0)
    backround_normal: ''
    canvas.before:
        Color: 
            rgba: (0,204,255,1)
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: [20]

<RoundedSpin@Spinner>
    background_color: (0,0,0,0)
    backround_normal: ''
    canvas.before:
        Color: 
            rgba: (0,204,255,1)
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: [20]



